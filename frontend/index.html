<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapLaF</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=5a31f40e-dc7c-4b59-9896-990a6d12af39&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        <div id="auth" class="auth">
            <div class="auth-logo">
                <div class="logo-icon">üó∫Ô∏è</div>
                <div class="logo-text">MapLaF</div>
            </div>
            <h1>–°–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–µ—â–µ–π</h1>
            <div class="floating-items">
                <div class="floating-item" style="--delay: 0s; --duration: 20s; left: 10%; top: 15%;">üì±</div>
                <div class="floating-item" style="--delay: 2s; --duration: 25s; left: 85%; top: 20%;">üéß</div>
                <div class="floating-item" style="--delay: 4s; --duration: 18s; left: 15%; top: 70%;">üíº</div>
                <div class="floating-item" style="--delay: 1s; --duration: 22s; left: 80%; top: 75%;">üîë</div>
                <div class="floating-item" style="--delay: 3s; --duration: 24s; left: 5%; top: 45%;">üëì</div>
                <div class="floating-item" style="--delay: 5s; --duration: 19s; left: 90%; top: 50%;">‚åö</div>
                <div class="floating-item" style="--delay: 2.5s; --duration: 21s; left: 70%; top: 10%;">üéí</div>
                <div class="floating-item" style="--delay: 1.5s; --duration: 23s; left: 25%; top: 85%;">üí≥</div>
                <div class="floating-item" style="--delay: 3.5s; --duration: 20s; left: 60%; top: 5%;">üì∑</div>
                <div class="floating-item" style="--delay: 4.5s; --duration: 26s; left: 50%; top: 90%;">üéÆ</div>
            </div>
            <form id="auth-form">
                <div class="input-wrapper">
                    <input type="text" id="name" placeholder="–ù–∏–∫–Ω–µ–π–º" required>
                    <span class="field-error" id="name-error"></span>
                </div>
                <div class="input-wrapper">
                    <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    <span class="field-error" id="password-error"></span>
                </div>
                <div class="auth-buttons">
                    <button type="submit" id="login-btn">–í–æ–π—Ç–∏</button>
                    <button type="button" id="register-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </div>
                <div class="forgot-password">
                    <a href="#" id="forgot-password-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                </div>
            </form>
            <p id="error" class="error"></p>
        </div>

        <div id="app" class="app hidden">
            <header>
                <div class="header-logo">
                    <div class="header-logo-icon">üó∫Ô∏è</div>
                    <h1>MapLaF</h1>
                </div>
                <div class="header-actions">
                    <div class="user-dropdown">
                        <span id="user-name" class="user-name">
                            <span class="user-icon">üëî</span>
                            <span class="user-name-text"></span>
                        </span>
                        <div class="user-menu">
                            <button id="nav-my-found" class="user-menu-item">–ú–æ–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–µ</button>
                            <button id="nav-my-lost" class="user-menu-item">–ú–æ–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ</button>
                            <button id="nav-my-claimed" class="user-menu-item" style="display: none;">–í–µ—â–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —è –∑–∞—è–≤–∏–ª –ø—Ä–∞–≤–∞</button>
                            <button id="logout" class="user-menu-item logout">–í—ã–π—Ç–∏</button>
                        </div>
                    </div>
                </div>
            </header>

            <nav>
                <button id="nav-found" class="nav-btn active">
                    <span class="nav-icon">üéØ</span>
                    <span class="nav-text">–ù–∞–π–¥–µ–Ω–Ω—ã–µ</span>
                </button>
                <button id="nav-lost" class="nav-btn">
                    <span class="nav-icon">üò¢</span>
                    <span class="nav-text">–ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ</span>
                </button>
                <div class="add-dropdown">
                    <button id="add-btn" class="nav-btn add-btn">+</button>
                    <div class="add-menu">
                        <button id="nav-add-found" class="add-menu-item">–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ</button>
                        <button id="nav-add-lost" class="add-menu-item">–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ</button>
                    </div>
                </div>
            </nav>

            <main>
                <section id="found-section" class="section">
                    <div class="section-header">
                        <h2>–ù–∞–π–¥–µ–Ω–Ω—ã–µ –≤–µ—â–∏</h2>
                        <div class="search-container">
                            <input type="text" id="found-search" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é...">
                            <button id="found-search-clear" class="search-clear" style="display: none;">√ó</button>
                        </div>
                    </div>
                    <div style="position: relative;">
                        <div id="found-items-map" class="map"></div>
                        <button id="find-nearby-btn" class="nearby-btn" style="
                            display: none;
                            position: absolute;
                            top: 10px;
                            left: 50%;
                            transform: translateX(-50%);
                            background: #667eea;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 6px;
                            cursor: pointer;
                            font-size: 14px;
                            font-weight: 600;
                            z-index: 1000;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                            transition: background 0.3s;
                        " title="–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –≤–µ—â–∏ —Ä—è–¥–æ–º">üìç –í–µ—â–∏ —Ä—è–¥–æ–º</button>
                    </div>
                    <div id="found-list" class="list"></div>
                </section>

                <section id="lost-section" class="section hidden">
                    <div class="section-header">
                        <h2>–ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –≤–µ—â–∏</h2>
                        <div class="search-container">
                            <input type="text" id="lost-search" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é...">
                            <button id="lost-search-clear" class="search-clear" style="display: none;">√ó</button>
                        </div>
                    </div>
                    <div style="position: relative;">
                        <div id="lost-items-map" class="map"></div>
                        <button id="find-nearby-lost-btn" class="nearby-btn" style="
                            display: none;
                            position: absolute;
                            top: 10px;
                            left: 50%;
                            transform: translateX(-50%);
                            background: #667eea;
                            color: white;
                            border: none;
                            padding: 10px 20px;
                            border-radius: 6px;
                            cursor: pointer;
                            font-size: 14px;
                            font-weight: 600;
                            z-index: 1000;
                            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                            transition: background 0.3s;
                        " title="–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –≤–µ—â–∏ —Ä—è–¥–æ–º">üìç –í–µ—â–∏ —Ä—è–¥–æ–º</button>
                    </div>
                    <div id="lost-list" class="list"></div>
                </section>

                <section id="my-found-section" class="section hidden">
                    <h2>–ú–æ–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–µ</h2>
                    <div id="my-found-list" class="list"></div>
                </section>

                <section id="my-lost-section" class="section hidden">
                    <h2>–ú–æ–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–µ</h2>
                    <div id="my-lost-list" class="list"></div>
                </section>

                <section id="my-claimed-section" class="section hidden" style="display: none;">
                    <h2>–í–µ—â–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —è –∑–∞—è–≤–∏–ª –ø—Ä–∞–≤–∞</h2>
                    <div id="my-claimed-list" class="list"></div>
                </section>

                <section id="add-found-section" class="section hidden">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—É—é –≤–µ—â—å</h2>
                    <form id="add-found-form" class="form">
                        <input type="text" id="found-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
                        <textarea id="found-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" required></textarea>
                        <div class="input-wrapper">
                            <input type="tel" id="found-phone" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 8-911-678-90-90" required>
                            <span class="field-error" id="found-phone-error"></span>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: #2c3e50;">üìç –£–∫–∞–∂–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ</label>
                            <div id="found-map" class="map" style="height: 400px; border-radius: 8px; border: 2px solid #667eea; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);"></div>
                            <p class="map-hint" style="margin-top: 10px; color: #667eea; font-weight: 500;">üëÜ –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –º–µ—Å—Ç–æ –Ω–∞—Ö–æ–¥–∫–∏. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º–µ—Ç–∫—É.</p>
                            <div id="found-selected-address" style="margin-top: 10px; padding: 10px; background: #f0f4ff; border-radius: 6px; display: none;">
                                <strong>–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:</strong> <span id="found-address-text"></span>
                            </div>
                        </div>
                        <div class="photo-upload">
                            <label for="found-photos">–§–æ—Ç–æ –≤–µ—â–∏:</label>
                            <input type="file" id="found-photos" multiple accept="image/*">
                            <div id="found-photos-preview" class="photos-preview"></div>
                        </div>
                        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </form>
                </section>

                <section id="add-lost-section" class="section hidden">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–Ω—É—é –≤–µ—â—å</h2>
                    <form id="add-lost-form" class="form">
                        <input type="text" id="lost-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
                        <textarea id="lost-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" required></textarea>
                        <div class="input-wrapper">
                            <input type="tel" id="lost-phone" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 8-911-678-90-90" required>
                            <span class="field-error" id="lost-phone-error"></span>
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: #2c3e50;">üìç –£–∫–∞–∂–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ</label>
                            <div id="lost-map" class="map" style="height: 400px; border-radius: 8px; border: 2px solid #667eea; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);"></div>
                            <p class="map-hint" style="margin-top: 10px; color: #667eea; font-weight: 500;">üëÜ –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –º–µ—Å—Ç–æ –ø–æ—Ç–µ—Ä–∏. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º–µ—Ç–∫—É.</p>
                            <div id="lost-selected-address" style="margin-top: 10px; padding: 10px; background: #f0f4ff; border-radius: 6px; display: none;">
                                <strong>–í—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å:</strong> <span id="lost-address-text"></span>
                            </div>
                        </div>
                        <div class="photo-upload">
                            <label for="lost-photos">–§–æ—Ç–æ –≤–µ—â–∏:</label>
                            <input type="file" id="lost-photos" multiple accept="image/*">
                            <div id="lost-photos-preview" class="photos-preview"></div>
                        </div>
                        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </form>
                </section>
            </main>
        </div>
    </div>

    <script src="script-helpers.js"></script>
    <script src="config.js"></script>
    <script src="utils.js"></script>
    <script src="validation.js"></script>
    <script src="api.js"></script>
    <script src="ui.js"></script>
    <script src="maps.js"></script>
    <script src="items.js"></script>
    <script src="modals.js"></script>
    <script src="app.js"></script>
</body>
</html>

